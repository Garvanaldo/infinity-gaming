/* --- INFINITY TITAN // VISUAL ENGINE --- */
:root {
    --neon-cyan: #00f2ff;
    --neon-danger: #ff0055;
    --neon-gold: #ffcc00;
    --bg-black: #020205;
    --glass-lite: rgba(255, 255, 255, 0.03);
    --glass-heavy: rgba(255, 255, 255, 0.08);
    --border-dim: rgba(255, 255, 255, 0.1);
    --font-head: 'Syncopate', sans-serif;
    --font-ui: 'Orbitron', sans-serif;
    --font-body: 'Inter', sans-serif;
}

* { margin: 0; padding: 0; box-sizing: border-box; text-transform: uppercase; -webkit-tap-highlight-color: transparent; }

body { background: var(--bg-black); color: #fff; font-family: var(--font-body); overflow-x: hidden; }

/* --- PRELOADER --- */
.preloader {
    position: fixed; inset: 0; background: #000; z-index: 9999;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.glitch-text {
    font-family: var(--font-head); font-size: 12vw; font-weight: 900;
    letter-spacing: -5px; color: #fff; text-shadow: 0 0 20px rgba(255,255,255,0.5);
    animation: glitch 1s infinite alternate;
}
@keyframes glitch {
    0% { transform: skew(0deg); }
    20% { transform: skew(-2deg); opacity: 0.8; }
    40% { transform: skew(2deg); opacity: 1; }
    100% { transform: skew(0deg); }
}
.load-track { width: 60vw; height: 4px; background: #111; margin-top: 40px; border-radius: 2px; overflow: hidden; }
.load-fill { height: 100%; background: var(--neon-cyan); width: 0%; box-shadow: 0 0 20px var(--neon-cyan); transition: width 0.1s linear; }
.load-status-group { margin-top: 20px; font-family: var(--font-ui); font-size: 0.7rem; color: #555; display: flex; justify-content: space-between; width: 60vw; }

/* --- LOCKDOWN OVERLAY --- */
.lockdown-overlay {
    position: fixed; inset: 0; background: #000; z-index: 6000; /* FIXED Z-INDEX */
    display: none; align-items: center; justify-content: center;
    flex-direction: column; text-align: center;
}
.lockdown-active { display: flex !important; }
.lockdown-content h1 {
    font-family: var(--font-head); font-size: 3rem; color: var(--neon-danger);
    margin-bottom: 10px; letter-spacing: -2px; text-shadow: 0 0 20px var(--neon-danger);
    animation: pulseRed 1s infinite alternate;
}
.lockdown-content p {
    font-family: var(--font-ui); color: #888; letter-spacing: 5px; margin-bottom: 30px;
}
.admin-override-btn {
    background: transparent; border: 1px solid #333; color: #555;
    padding: 10px 20px; cursor: pointer; font-family: var(--font-ui);
    transition: 0.3s;
}
.admin-override-btn:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); }
@keyframes pulseRed { from { opacity: 0.8; } to { opacity: 1; text-shadow: 0 0 40px var(--neon-danger); } }

/* --- NEWS TICKER --- */
.news-ticker-container {
    background: var(--neon-gold); color: #000;
    overflow: hidden; padding: 5px 0;
    border-bottom: 1px solid #000;
}
.ticker-wrap {
    width: 100%; overflow: hidden; white-space: nowrap;
}
.ticker-item {
    display: inline-block; padding-left: 100%;
    animation: ticker 15s linear infinite;
    font-family: var(--font-ui); font-weight: 700; font-size: 0.8rem;
}
@keyframes ticker {
    0% { transform: translate3d(0, 0, 0); }
    100% { transform: translate3d(-100%, 0, 0); }
}

/* --- BACKGROUND --- */
.bg-wrapper { position: fixed; inset: 0; z-index: -1; }
.perspective-grid {
    width: 100%; height: 200%;
    background-image: linear-gradient(var(--border-dim) 1px, transparent 1px), 
                      linear-gradient(90deg, var(--border-dim) 1px, transparent 1px);
    background-size: 40px 40px;
    transform: perspective(500px) rotateX(60deg) translateY(-20%);
    opacity: 0.2;
}
.scanlines {
    position: fixed; inset: 0; pointer-events: none; z-index: 10;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%);
    background-size: 100% 4px;
}
.ambient-glow {
    position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
    background: radial-gradient(circle, rgba(0, 242, 255, 0.03) 0%, transparent 60%);
    pointer-events: none;
}

/* --- HEADER --- */
.primary-hud-header { padding: 20px; border-bottom: 1px solid var(--border-dim); backdrop-filter: blur(20px); position: sticky; top: 0; z-index: 100; }
.hud-navigation { display: flex; justify-content: space-between; align-items: center; max-width: 1600px; margin: auto; }
.brand-title { font-family: var(--font-head); font-size: 2.5rem; font-weight: 900; letter-spacing: -2px; line-height: 1; margin-bottom: 5px; }
.brand-tagline { font-size: 0.6rem; color: var(--neon-cyan); letter-spacing: 2px; font-weight: 700; }
.brand-bottom-dec { font-size: 0.6rem; color: var(--neon-gold); letter-spacing: 1px; margin-top: 5px; }
.utility-cockpit { text-align: right; }
.c-val { display: block; font-family: var(--font-ui); font-size: 1rem; margin-bottom: 5px; }
.admin-hud-btn { background: transparent; border: 1px solid #333; color: #555; padding: 5px 10px; font-size: 0.6rem; cursor: pointer; transition: 0.3s; }
.admin-hud-btn:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); }
.operational-banners { display: flex; gap: 10px; margin-top: 15px; overflow-x: auto; padding-bottom: 5px; justify-content: center; }
.banner-node { background: rgba(255,255,255,0.02); border: 1px solid var(--border-dim); padding: 8px 15px; border-radius: 4px; min-width: 80px; text-align: center; }
.node-cyan { border-left: 2px solid var(--neon-cyan); }
.node-gold { border-left: 2px solid var(--neon-gold); }
.node-red { border-left: 2px solid var(--neon-danger); }
.n-label { display: block; font-size: 0.5rem; color: #888; margin-bottom: 2px; }
.n-val { font-family: var(--font-ui); font-size: 0.8rem; font-weight: 700; }

/* --- FLOOR (NEW SPLIT CONFIG) --- */
.deployment-floor { max-width: 100%; padding: 15px; margin-bottom: 100px; }

/* MOBILE DEFAULT: Side-by-Side Columns */
.split-layout-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Split screen 50/50 */
    gap: 15px;
    align-items: start;
}

/* Zone Labels on Mobile */
.zone-descriptor {
    margin: 0 0 15px 0;
    font-size: 0.7rem;
    text-align: center;
    border-bottom: 1px solid #333;
    padding-bottom: 5px;
}
.d-main { font-family: var(--font-ui); color: var(--neon-cyan); letter-spacing: 2px; font-size: 0.9rem; }

/* The Vertical Lists */
.vertical-col {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

/* REVERSE BRAVO (10 at Top, 6 at Bottom on Mobile) */
.reverse-flow {
    flex-direction: column-reverse; 
}

/* DESKTOP OVERRIDE (Revert to Wide Landscape) */
@media (min-width: 768px) {
    .split-layout-wrapper {
        display: block; /* Stack Zones vertically again */
    }

    .zone-descriptor {
        text-align: left; /* Reset text align */
        margin: 30px 0 15px; /* Add breathing room */
        display: flex; /* Restore line style */
        align-items: center; 
        gap: 20px;
        border-bottom: none;
        padding-bottom: 0;
    }
    /* Add the decorative line back on Desktop */
    .zone-descriptor::after {
        content: '';
        flex: 1;
        height: 1px;
        background: #333;
    }

    .vertical-col {
        display: grid; /* Switch back to Grid */
        grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
        gap: 20px;
    }
    
    /* Keep Bravo reversed (Right-to-Left) on Desktop too */
    .reverse-flow {
        flex-direction: row; /* Reset flex */
        direction: rtl; /* Make PC 10 start on the Right */
    }
    .reverse-flow .station-node {
        direction: ltr; /* Fix text readability */
    }
}

/* PC CARD */
.station-node { background: var(--glass-lite); border: 1px solid var(--border-dim); padding: 20px 10px; border-radius: 12px; text-align: center; position: relative; overflow: hidden; transition: 0.3s; }
.node-busy { border-color: var(--neon-danger); box-shadow: inset 0 0 15px rgba(255, 0, 85, 0.1); }
.node-ready { border-color: var(--neon-cyan); }
.node-header span { font-family: var(--font-ui); font-size: 2rem; font-weight: 900; color: #fff; letter-spacing: -1px; display: block; margin-bottom: 8px; }
.status-text { font-size: 0.7rem; letter-spacing: 1px; margin-bottom: 5px; color: #aaa; font-weight: 700; }
.action-group { display: flex; gap: 5px; margin-top: 15px; }
.node-action-btn { flex: 1; background: transparent; border: 1px solid #444; color: #fff; padding: 10px 0; font-family: var(--font-ui); font-size: 0.65rem; cursor: pointer; transition: 0.2s; }
.node-action-btn:hover { background: #fff; color: #000; }
.node-action-btn.view-schedule { border-color: var(--neon-gold); color: var(--neon-gold); }
.node-action-btn.view-schedule:hover { background: var(--neon-gold); color: #000; }
.flash-btn { width: 40px; background: rgba(255, 204, 0, 0.1); border: 1px solid var(--neon-gold); color: var(--neon-gold); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
.flash-btn:hover { background: var(--neon-gold); color: #000; }

/* TIMELINE */
.timeline-container { margin-top: 10px; border-top: 1px solid #333; padding-top: 5px; }
.timeline-label { font-size: 0.5rem; color: #555; display: flex; justify-content: space-between; margin-bottom: 3px; }
.timeline-track { display: flex; height: 6px; width: 100%; gap: 1px; background: #111; border-radius: 2px; overflow: hidden; }
.t-seg { flex: 1; height: 100%; background: #222; transition: 0.2s; }
.t-seg.free { background: rgba(0, 242, 255, 0.2); }
.t-seg.booked { background: var(--neon-danger); box-shadow: 0 0 5px var(--neon-danger); }
.t-seg.past { background: #111; opacity: 0.3; }

/* MODALS */
.system-overlay { display: none; position: fixed; inset: 0; z-index: 6000; align-items: center; justify-content: center; padding: 20px; }
.overlay-blur-shield { position: absolute; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(12px); }
.glass-morph-panel { position: relative; width: 100%; max-width: 500px; background: #08080a; border: 1px solid var(--neon-cyan); padding: 25px; border-radius: 16px; box-shadow: 0 0 40px rgba(0,242,255,0.1); }
.glass-morph-panel.admin-mode { border-color: var(--neon-gold); box-shadow: 0 0 50px rgba(255, 204, 0, 0.2); }
.admin-mode .ph-title h3, .admin-mode .ph-title p, .admin-mode .section-label { color: var(--neon-gold); }
.admin-mode .protocol-execute-btn { background: var(--neon-gold); color: #000; }
.ph-title h3 { font-family: var(--font-ui); font-size: 1.2rem; margin-bottom: 5px; }
.ph-title p { color: var(--neon-cyan); font-size: 0.7rem; margin-bottom: 20px; }

/* INPUTS & PILLS */
.squad-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px; margin-bottom: 20px; }
.squad-pill { background: transparent; border: 1px solid #333; color: #666; padding: 12px 0; font-family: var(--font-ui); font-size: 0.65rem; cursor: pointer; transition: 0.2s; border-radius: 4px; }
.squad-pill:hover { border-color: var(--neon-cyan); color: var(--neon-cyan); }
.squad-pill.active { background: var(--neon-cyan); color: #000; border-color: var(--neon-cyan); box-shadow: 0 0 15px rgba(0,242,255,0.3); }

/* Admin Squad Grid (Gold Theme) */
#adminSquadGrid .squad-pill:hover { border-color: var(--neon-gold); color: var(--neon-gold); }
#adminSquadGrid .squad-pill.active { background: var(--neon-gold); color: #000; border-color: var(--neon-gold); box-shadow: 0 0 10px var(--neon-gold); }

.time-slot-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; max-height: 40vh; overflow-y: auto; margin-bottom: 20px; }
.slot-pill { background: transparent; border: 1px solid #333; color: #fff; padding: 12px 0; font-family: var(--font-ui); font-size: 0.65rem; border-radius: 4px; cursor: pointer; transition: 0.2s; }
.slot-pill:hover:not(.taken) { border-color: var(--neon-cyan); }
.slot-pill.taken { background: #1a1a1a; color: #444; border-color: #222; cursor: not-allowed; }

.section-label { display: block; font-size: 0.6rem; color: var(--neon-gold); margin-bottom: 8px; letter-spacing: 1px; font-family: var(--font-ui); }
.selection-hint { text-align: center; color: #555; font-size: 0.6rem; margin-bottom: 10px; border-bottom: 1px solid #222; padding-bottom: 5px; }
.protocol-execute-btn { width: 100%; padding: 15px; background: var(--neon-cyan); color: #000; border: none; font-family: var(--font-ui); font-weight: 900; font-size: 0.9rem; clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px); cursor: pointer; }

/* ADMIN UI */
.manual-form-grid { display: flex; flex-direction: column; gap: 10px; background: rgba(255,255,255,0.02); padding: 15px; border-radius: 8px; }
.titan-input { background: #000; border: 1px solid #333; color: #fff; padding: 10px; font-family: var(--font-ui); font-size: 0.8rem; border-radius: 4px; width: 100%; }
.titan-input:focus { border-color: var(--neon-cyan); outline: none; }
.time-row { display: flex; align-items: center; gap: 10px; }
.full-width { width: 100%; margin-top: 5px; padding: 12px; font-size: 0.8rem; }

.admin-console-panel { border-color: var(--neon-gold); }
.console-top-telemetry { display: flex; justify-content: space-between; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #333; }
.telemetry-node label { display: block; font-size: 0.6rem; color: #888; }
.telemetry-node h1 { font-family: var(--font-ui); font-size: 1.5rem; color: var(--neon-gold); }
.admin-strip { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.03); padding: 15px; margin-bottom: 10px; border-left: 3px solid var(--neon-gold); }
.adm-btn { border: none; padding: 6px 12px; font-weight: 900; cursor: pointer; font-size: 0.7rem; margin-left: 5px; }
.adm-btn.add { background: var(--neon-cyan); color: #000; }
.adm-btn.wipe { background: var(--neon-danger); color: #fff; }
.wipe-protocol-btn { width: 100%; padding: 12px; background: rgba(255, 0, 85, 0.1); border: 1px solid var(--neon-danger); color: var(--neon-danger); font-family: var(--font-ui); margin-top: 10px; cursor: pointer; font-size: 0.8rem; }
.exit-btn { width: 100%; padding: 12px; background: transparent; border: none; color: #666; margin-top: 5px; cursor: pointer; font-size: 0.7rem; }

/* SCHEDULE LIST */
.schedule-list-container { max-height: 50vh; overflow-y: auto; margin-bottom: 20px; }
.schedule-item { display: flex; justify-content: space-between; background: rgba(255,255,255,0.05); padding: 12px; margin-bottom: 8px; border-left: 3px solid #555; font-family: var(--font-ui); font-size: 0.7rem; }
.schedule-item.booked { border-color: var(--neon-danger); background: rgba(255, 0, 85, 0.05); }
.schedule-item strong { color: #fff; display: block; margin-bottom: 3px; }
.schedule-item span { color: #888; }
.schedule-empty { text-align: center; color: #555; padding: 20px; font-size: 0.7rem; }

/* ACTIVE SLOT LIST */
.active-slot-item { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.03); padding: 10px; margin-bottom: 5px; border-left: 3px solid #555; font-size: 0.7rem; }
.active-slot-item strong { color: var(--neon-cyan); }
.slot-actions { display: flex; gap: 5px; }
.slot-btn { border: none; padding: 5px 8px; font-size: 0.6rem; cursor: pointer; font-weight: 700; }
.slot-btn.edit { background: var(--neon-gold); color: #000; }
.slot-btn.del { background: var(--neon-danger); color: #fff; }